@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.page-transition {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: rgba(255, 255, 255, 0.95);
  z-index: 9999;
  backdrop-filter: blur(8px);
  animation: fadeIn 0.3s ease;

  .page-transition-content {
    display: flex;
    flex-direction: column;
    align-items:start;
    justify-content:start;
    max-width: 80%;
  }

  .page-transition-text {
    font-size: 1.8rem;
    font-weight: 600;
    margin-bottom: 1.5rem;
    color: rgb(13, 71, 161);
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }

  .page-transition-progress-container {
    width: 300px;
    height: 12px;
    background-color: #e0e0e0;
    border-radius: 6px;
    overflow: visible;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    position: relative;
    margin-top: 5px;
  }

  .page-transition-progress-bar {
    height: 100%;
    background: linear-gradient(
      to right,
      rgb(13, 71, 161),
      rgb(30, 136, 229)
    );
    border-radius: 4px;
    transition: width 0.1s linear;
  }
  
  .retry-button {
    margin-top: 20px;
    padding: 10px 20px;
    background-color: rgb(13, 71, 161);
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: 500;
    transition: background-color 0.3s;
    
    &:hover {
      background-color: rgb(30, 136, 229);
    }
  }

  .brand-text {
    margin-top: 25px;
    font-size: 2rem;
    font-weight: 900;
    color: rgb(13, 71, 161);
    letter-spacing: 3px;
    text-transform: uppercase;
  }
  
  .error-text {
    margin-top: 20px;
    color: #e53935;
  }

  /* Running man animation */
  .running-man-container {
    position: relative;
    top: 10px;
    left: 0;
    transform: translateX(-50%);
    z-index: 20;
    transition: left 0.1s linear;
    left: calc(var(--progress, 0) * 1%);
    margin-bottom: 20px;
  }

  .running {
    --color: rgb(13, 71, 161);
    --duration: 0.7s;
    zoom: 1.5;
    
    .outer {
      animation: outer var(--duration) linear infinite;
  
      .body {
        background: var(--color);
        height: 15px;
        width: 8px;
        border-radius: 4px;
        transform-origin: 4px 11px;
        position: relative;
        transform: rotate(32deg);
        animation: body var(--duration) linear infinite;
  
        &:before {
          content: "";
          width: 8px;
          height: 8px;
          border-radius: 4px;
          bottom: 16px;
          left: 0;
          position: absolute;
          background: var(--color);
        }
  
        .arm,
        .arm:before,
        .leg,
        .leg:before {
          content: "";
          width: var(--w, 11px);
          height: 4px;
          top: var(--t, 0);
          left: var(--l, 2px);
          border-radius: 2px;
          transform-origin: 2px 2px;
          position: absolute;
          background: var(--c, var(--color));
          transform: rotate(var(--r, 0deg));
          animation: var(--name, arm-leg) var(--duration) linear infinite;
        }
  
        .arm {
          &:before {
            --l: 7px;
            --name: arm-b;
          }
  
          &.front {
            --r: 24deg;
            --r-to: 164deg;
  
            &:before {
              --r: -48deg;
              --r-to: -36deg;
            }
          }
  
          &.behind {
            --r: 164deg;
            --r-to: 24deg;
  
            &:before {
              --r: -36deg;
              --r-to: -48deg;
            }
          }
        }
  
        .leg {
          --w: 12px;
          --t: 11px;
  
          &:before {
            --t: 0;
            --l: 8px;
          }
  
          &.front {
            --r: 10deg;
            --r-to: 108deg;
  
            &:before {
              --r: 18deg;
              --r-to: 76deg;
            }
          }
  
          &.behind {
            --r: 108deg;
            --r-to: 10deg;
            --c: none;
  
            &:before {
              --c: var(--color);
              --r: 76deg;
              --r-to: 18deg;
            }
  
            &:after {
              content: "";
              top: 0;
              right: 0;
              height: 4px;
              width: 6px;
              clip-path: polygon(2px 0, 6px 0, 6px 4px, 0 4px);
              border-radius: 0 2px 2px 0;
              position: absolute;
              background: var(--color);
            }
          }
        }
      }
    }
  }
}

@keyframes outer {
  50% {
    transform: translateY(0);
  }
  25%,
  75% {
    transform: translateY(4px);
  }
}

@keyframes body {
  50% {
    transform: rotate(16deg);
  }
  25%,
  75% {
    transform: rotate(24deg);
  }
}

@keyframes arm-leg {
  50% {
    transform: rotate(var(--r-to));
  }
}

@keyframes arm-b {
  30%,
  70% {
    transform: rotate(var(--r-to));
  }
}